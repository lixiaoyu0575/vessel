<div nz-row [nzGutter]="16">
    <div nz-col [nzMd]="24">
        <nz-card>
            <ng-template #title>生物样本记录</ng-template>
            <ng-template #body>
                <form nz-form [formGroup]="validateForm" (ngSubmit)="_submitForm()">
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>编号</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-input formControlName="number" [nzType]="number"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSpan]="4">
                            <label nz-form-item-required>分库（省份）</label>
                        </div>
                        <div nz-form-control nz-col [nzSpan]="3">
                            <nz-select formControlName="repository" [nzSize]="'large'">
                                <nz-option [nzLabel]="'陕西'" [nzValue]="'1'"></nz-option>
                                <nz-option [nzLabel]="'甘肃'" [nzValue]="'2'"></nz-option>
                                <nz-option [nzLabel]="'宁夏'" [nzValue]="'3'"></nz-option>
                                <nz-option [nzLabel]="'青海'" [nzValue]="'4'"></nz-option>
                                <nz-option [nzLabel]="'新疆'" [nzValue]="'5'"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>类别</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="3">
                            <nz-select formControlName="type" [nzSize]="'large'">
                                <nz-option [nzLabel]="'血样'" [nzValue]="'1'"></nz-option>
                                <nz-option [nzLabel]="'尿液'" [nzValue]="'2'"></nz-option>
                                <nz-option [nzLabel]="'粪'" [nzValue]="'3'"></nz-option>
                                <nz-option [nzLabel]="'毛发'" [nzValue]="'4'"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                    <div nz-form-item nz-row *ngIf="getTypeValue() == 1">
                        <div nz-form-label nz-col [nzSm]="4" >
                            <label nz-form-item-required>血液类型</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="3" >
                            <nz-select formControlName="blood_type" [nzSize]="'large'">
                                <nz-option [nzLabel]="'全血'" [nzValue]="'1'"></nz-option>
                                <nz-option [nzLabel]="'血浆'" [nzValue]="'2'"></nz-option>
                                <nz-option [nzLabel]="'白膜层'" [nzValue]="'3'"></nz-option>
                                <nz-option [nzLabel]="'血清'" [nzValue]="'4'"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>来源人</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-input formControlName="owner"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>采集容量</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-input formControlName="collect_count" [nzType]="number"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>采集时间</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-datepicker formControlName="collect_time"></nz-datepicker>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>分管数量</label>
                        </div>
                        <!--<div nz-form-control nz-col [nzSm]="10">-->
                            <nz-input-number formControlName="branch"  (ngModelChange)="updateConfirmValidator('branch')" [nzMin]="0"></nz-input-number>
                        <!--</div>-->
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>缺失分管说明</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="10">
                            <nz-input formControlName="lost_msg"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>存放管条码</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-input formControlName="pipe_Num"  (ngModelChange)="updateConfirmValidator('pipe_Num')" [nzType]="number"></nz-input>
                            <div nz-form-explain *ngIf="getFormControl('pipe_Num').dirty&&getFormControl('pipe_Num').hasError('required')">请检查您的输入</div>
                            <div nz-form-explain *ngIf="getFormControl('pipe_Num').dirty&&getFormControl('pipe_Num').hasError('error')">请参照省份填写编号</div>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>存放日期</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-datepicker formControlName="store_time"></nz-datepicker>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>存放人</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="5">
                            <nz-input formControlName="placer"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>存放要求</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="10">
                            <nz-input formControlName="requirement"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>应急措施</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="10">
                            <nz-input formControlName="emergency"></nz-input>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>所在队列</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="3">
                            <nz-select formControlName="belong_rep" [nzSize]="'large'">
                                <nz-option [nzLabel]="'陕西'" [nzValue]="'1'"></nz-option>
                                <nz-option [nzLabel]="'甘肃'" [nzValue]="'2'"></nz-option>
                                <nz-option [nzLabel]="'宁夏'" [nzValue]="'3'"></nz-option>
                                <nz-option [nzLabel]="'青海'" [nzValue]="'4'"></nz-option>
                                <nz-option [nzLabel]="'新疆'" [nzValue]="'5'"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>存放地点</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="10">
                            <nz-input formControlName="building" (ngModelChange)="updateConfirmValidator('building')"></nz-input>
                            <div nz-form-explain *ngIf="getFormControl('building').dirty&&getFormControl('building').hasError('required')">请检查您的输入</div>
                        </div>
                    </div>
                    <div nz-form-item nz-row>
                        <div nz-form-label nz-col [nzSm]="4">
                            <label nz-form-item-required>具体位置</label>
                        </div>
                        <div nz-form-control nz-col [nzSm]="2" [nzValidateStatus]="getFormControl('ref')">
                            <nz-input-number formControlName="ref" (ngModelChange)="updateConfirmValidator('ref')" [nzMin]="0"></nz-input-number>
                            <span nz-form-text> 号冰柜</span>
                        </div>
                        <div nz-form-control nz-col [nzSm]="2" [nzValidateStatus]="getFormControl('shelf')">
                            <nz-input-number formControlName="shelf" (ngModelChange)="updateConfirmValidator('shelf')" [nzMin]="0"></nz-input-number>
                            <span nz-form-text> 号架子</span>
                        </div>
                        <div nz-form-control nz-col [nzSm]="2" [nzValidateStatus]="getFormControl('lay')">
                            <nz-input-number formControlName="lay" (ngModelChange)="updateConfirmValidator('lay')" [nzMin]="0"></nz-input-number>
                            <span nz-form-text> 层</span>
                        </div>
                        <div nz-form-control nz-col [nzSm]="2" [nzValidateStatus]="getFormControl('col')">
                            <nz-input-number formControlName="col" (ngModelChange)="updateConfirmValidator('col')" [nzMin]="0"></nz-input-number>
                            <span nz-form-text> 行</span>
                        </div>
                        <div nz-form-control nz-col [nzSm]="2" [nzValidateStatus]="getFormControl('row')">
                            <nz-input-number formControlName="row" (ngModelChange)="updateConfirmValidator('row')" [nzMin]="0"></nz-input-number>
                            <span nz-form-text> 列</span>
                        </div>
                    </div>
                    <div nz-form-item nz-row>

                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label nz-form-item-required>编号</label>-->
                        <!--</div>-->
                        <!--<div nz-form-control nz-col [nzSm]="10" [nzValidateStatus]="getFormControl('num')">-->
                            <!--<nz-input formControlName="num" (ngModelChange)="updateConfirmValidator('num')"></nz-input>-->
                            <!--<div nz-form-explain *ngIf="getFormControl('num').dirty&&getFormControl('num').hasError('required')">请检查您的输入</div>-->
                            <!--<div nz-form-explain *ngIf="getFormControl('num').dirty&&getFormControl('num').hasError('error')">请参照省份和项目点填写编号</div>-->
                        <!--</div>-->
                    </div>
                </form>
                <div nz-form-control nz-col [nzSpan]="14" [nzOffset]="4">
                <button nz-button [nzType]="'primary'" [disabled]="disabled" class="mr-sm" (click)="_submitForm()">
                    <span>保存</span>
                </button>
                    <button nz-button [nzType]="'primary'" [disabled]="disabled" class="mr-sm" (click)="goBack()">
                        <span>返回列表</span>
                    </button>
                </div>
            </ng-template>
        </nz-card>
    </div>
</div>
